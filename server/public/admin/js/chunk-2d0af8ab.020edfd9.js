(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af8ab"],{"0f87":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search_bar"},[a("el-input",{staticClass:"main_input",attrs:{placeholder:"输入标题内容检索",clearable:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.getTableData()}},model:{value:t.main_input.title,callback:function(e){t.$set(t.main_input,"title",e)},expression:"main_input.title"}}),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(e){t.getTableData()}}},[t._v("搜 索")]),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("用户数据管理")]),a("el-breadcrumb-item",[t._v("诉讼垫资数据")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticStyle:{width:"100%"},attrs:{height:t.table_height,data:t.table_data,border:""}},[a("el-table-column",{attrs:{type:"index",width:"45",align:"center"}}),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("el-tag",{attrs:{type:"info"}},[t._v("待付款")]):t._e(),1==e.row.status?a("el-tag",{attrs:{type:"warning"}},[t._v("待处理")]):t._e(),2==e.row.status?a("el-tag",{attrs:{type:"primary"}},[t._v("处理中")]):t._e(),3==e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("处理完成")]):t._e(),1==e.row.is_deleted?a("el-tag",{attrs:{type:"danger"}},[t._v("用户删除")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"提交者",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showUserInfo(e.row.creator_id)}}},[t._v("查看详情")])]}}])}),a("el-table-column",{attrs:{prop:"content",label:"诉讼内容"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间"}}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.submitFinish(e.row)}}},[t._v("处理完成")]):t._e(),2==e.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.submitCancelFinish(e.row)}}},[t._v("重新处理")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.page.current_page,"page-sizes":[50],"page-size":t.page.size,layout:"total,sizes, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"用户详情",visible:t.is_show_user_info,width:"700px"},on:{"update:visible":function(e){t.is_show_user_info=e}}},[a("div",[t._v("用户名："+t._s(this.user_info.name))]),a("div",[t._v("手机号："+t._s(this.user_info.phone))])])],1)},n=[],s=(a("cadf"),a("551c"),a("097d"),{data:function(){return{main_input:{title:""},page:{current_page:1,size:50},is_show_user_info:!1,is_show_reply:!1,is_loading:!1,table_height:500,status_list:["待付款","待处理","处理中","处理完成"],table_data:[],user_info:{}}},created:function(){this.table_height=window.innerHeight-150,this.getTableData()},methods:{getTableData:function(){var t=this;this.is_loading=!0;var e={page_size:this.page.size,page:this.page.current_page};this.requestApi({url:"ask_advance/getList",data:e,success:function(e){t.table_data=e.data,t.page.total=parseInt(e.total),t.is_loading=!1}})},submitFinish:function(t){var e=this;this.$confirm("确定处理完成此诉讼垫资?","再次确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestApi({url:"ask_advance/finish",data:{id:t.id},success:function(){e.$message.success("操作成功"),e.getTableData()}})}).catch(function(){})},submitCancelFinish:function(t){var e=this;this.$confirm("确定重新处理完成此诉讼垫资?","再次确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestApi({url:"ask_advance/cancel_finish",data:{id:t.id},success:function(){e.$message.success("操作成功"),e.getTableData()}})}).catch(function(){})},handleCurrentChange:function(t){this.page.current_page=t,this.getTableData()},showUserInfo:function(t){var e=this;this.is_loading=!0,this.requestApi({url:"users/getSingle",data:{id:t},success:function(t){e.is_loading=!1,e.user_info=t,e.is_show_user_info=!0}})}}}),r=s,l=a("2877"),o=Object(l["a"])(r,i,n,!1,null,null,null);o.options.__file="ask_advance.vue";e["default"]=o.exports}}]);