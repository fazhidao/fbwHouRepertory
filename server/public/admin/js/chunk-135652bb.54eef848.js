(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-135652bb"],{"29f2":function(t,e,i){"use strict";(function(t){i("cadf"),i("551c"),i("097d");e["a"]={data:function(){return{is_loading:!1,is_show_preview:!1,preview_data:"",main_input:{title:"",is_show:"",type:""},table_height:100,page:{current_page:1,size:50},table_data:[],selected_rows:[],type_list:[{id:"1",title:"法律头条"},{id:"2",title:"经典案例"}],status_list:[{id:"1",title:"已发布"},{id:"0",title:"草稿"}]}},created:function(){this.table_height=window.innerHeight-150,this.getTableData(),sessionStorage.getItem("article_tag")||(this.$notify.info({title:"提示",message:"APP首页优先显示阅读量最多和最新的文章",duration:6e3,offset:100}),sessionStorage.setItem("article_tag",1))},activated:function(){t.edited&&this.getTableData()},methods:{getTableData:function(){var t=this;this.is_loading=!0;var e={page_size:this.page.size,page:this.page.current_page};e.title=this.main_input.title,e.type=this.main_input.type,e.is_show=this.main_input.is_show,this.requestApi({url:"articles/get",data:e,success:function(e){t.table_data=e.data,t.page.total=parseInt(e.total),t.is_loading=!1}})},handleCurrentChange:function(t){this.page.current_page=t,this.getTableData()},handleSelectionChange:function(t){this.selected_rows=t},submitDelItem:function(t){var e=this;this.$confirm("确定删除选 "+t.title+" ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestApi({url:"articles/del",data:{id:t.id},success:function(t){e.getTableData(),e.$message.success("删除成功")}})}).catch(function(){})},goEdit:function(e){t.edited=!1,localStorage.setItem("editor_backup",""),this.$router.push("edit/"+e)},goAdd:function(){localStorage.setItem("editor_backup",""),this.$router.push("edit/add")},showPreview:function(t){var e=this;this.requestApi({url:"articles/get",data:{id:t},success:function(t){e.preview_data=t.content,e.is_show_preview=!0}})},doPush:function(t){var e=this;this.$confirm("确定推送 "+t.title+" ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestApi({url:"articles/push",data:{id:t.id},success:function(i){t.push_times++,e.$message.success("推送成功")}})}).catch(function(){})}}}}).call(this,i("c8ba"))},c2c5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"search_bar"},[i("el-input",{staticClass:"main_input",attrs:{placeholder:"输入标题内容检索",clearable:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.getTableData()}},model:{value:t.main_input.title,callback:function(e){t.$set(t.main_input,"title",e)},expression:"main_input.title"}}),i("el-select",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{placeholder:"状态",clearable:""},model:{value:t.main_input.is_show,callback:function(e){t.$set(t.main_input,"is_show",e)},expression:"main_input.is_show"}},t._l(t.status_list,function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1),i("el-select",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{placeholder:"类别",clearable:""},model:{value:t.main_input.type,callback:function(e){t.$set(t.main_input,"type",e)},expression:"main_input.type"}},t._l(t.type_list,function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1),i("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(e){t.getTableData()}}},[t._v("搜 索")]),i("el-button-group",{staticStyle:{"margin-right":"10px"}},[i("el-button",{on:{click:function(e){t.goAdd()}}},[t._v("新增文章")])],1),i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),i("el-breadcrumb-item",[t._v("学法文章管理")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticStyle:{width:"100%"},attrs:{height:t.table_height,data:t.table_data,border:""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"index",width:"45",align:"center"}}),i("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_show?i("el-tag",[t._v("已发布")]):t._e(),0==e.row.is_show?i("el-tag",{attrs:{type:"info"}},[t._v("草稿")]):t._e()]}}])}),i("el-table-column",{attrs:{label:"类别",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                "+t._s(1==e.row.type?"法律头条":"经典案例")+"\r\n            ")]}}])}),i("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"200"}}),i("el-table-column",{attrs:{prop:"abstract",label:"简介","min-width":"400"}}),i("el-table-column",{attrs:{prop:"create_time",label:"发布时间","max-width":"180",align:"center"}}),i("el-table-column",{attrs:{prop:"views",label:"阅读量",width:"70",align:"center"}}),i("el-table-column",{attrs:{label:"推送次数",width:"70",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(t._s(e.row.push_times))]),i("el-button",{attrs:{type:"text"},on:{click:function(i){t.doPush(e.row)}}},[t._v("立即推送")])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"160",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){t.goEdit(e.row.id)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){t.submitDelItem(e.row)}}},[t._v("删除")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){t.showPreview(e.row.id)}}},[t._v("预览")])]}}])})],1),i("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.page.current_page,"page-sizes":[50],"page-size":t.page.size,layout:"total,sizes, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.handleCurrentChange}}),i("el-dialog",{attrs:{title:"预览",visible:t.is_show_preview,width:"410px"},on:{"update:visible":function(e){t.is_show_preview=e}}},[i("div",{staticClass:"preview_title"},[t._v("iPhone6屏幕尺寸")]),i("div",{staticClass:"preview_box",domProps:{innerHTML:t._s(t.preview_data)}})])],1)},n=[],l=i("29f2"),s=l["a"],r=i("2877"),o=Object(r["a"])(s,a,n,!1,null,null,null);o.options.__file="articles_list.vue";e["default"]=o.exports}}]);