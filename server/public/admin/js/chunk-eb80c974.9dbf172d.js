(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb80c974"],{5446:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"search_bar"},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.is_show_add=!0}}},[t._v("新增问法客服")]),e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),e("el-breadcrumb-item",[t._v("用户数据管理")]),e("el-breadcrumb-item",[t._v("问法客服管理")])],1)],1),e("el-alert",{attrs:{title:"注意：名称将作为用户登录名",type:"warning"}}),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,border:""}},[e("el-table-column",{attrs:{type:"index",width:"45",align:"center"}}),e("el-table-column",{attrs:{label:"状态",width:"65"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.status?e("el-tag",{attrs:{type:"danger"}},[t._v("禁用")]):t._e(),a.row.status>0?e("el-tag",[t._v("正常")]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"name",label:"名称"}}),e("el-table-column",{attrs:{prop:"phone",label:"电话",width:"140"}}),e("el-table-column",{attrs:{prop:"note",label:"备注",width:"140"}}),e("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){t.showEditForm(a.row)}}},[t._v("编辑")]),1==a.row.status?e("el-button",{attrs:{type:"text"},on:{click:function(e){t.submitForbid(a.row)}}},[t._v("禁用")]):t._e(),0==a.row.status?e("el-button",{attrs:{type:"text"},on:{click:function(e){t.submitCancelForbid(a.row)}}},[t._v("启用")]):t._e()]}}])})],1),e("el-dialog",{attrs:{title:"新增",visible:t.is_show_add,width:"600px"},on:{"update:visible":function(a){t.is_show_add=a}}},[e("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{model:{value:t.add_data.name,callback:function(a){t.$set(t.add_data,"name",a)},expression:"add_data.name"}})],1),e("el-form-item",{attrs:{label:"手机"}},[e("el-input",{model:{value:t.add_data.phone,callback:function(a){t.$set(t.add_data,"phone",a)},expression:"add_data.phone"}})],1),e("el-form-item",{attrs:{label:"登录密码"}},[e("el-input",{model:{value:t.add_data.password,callback:function(a){t.$set(t.add_data,"password",a)},expression:"add_data.password"}})],1),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{model:{value:t.add_data.note,callback:function(a){t.$set(t.add_data,"note",a)},expression:"add_data.note"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.is_show_add=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.submitAdd()}}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{title:"编辑",visible:t.is_show_edit,width:"600px"},on:{"update:visible":function(a){t.is_show_edit=a}}},[e("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{model:{value:t.edit_data.name,callback:function(a){t.$set(t.edit_data,"name",a)},expression:"edit_data.name"}})],1),e("el-form-item",{attrs:{label:"手机"}},[e("el-input",{model:{value:t.edit_data.phone,callback:function(a){t.$set(t.edit_data,"phone",a)},expression:"edit_data.phone"}})],1),e("el-form-item",{attrs:{label:"重置密码"}},[e("el-input",{model:{value:t.add_data.password,callback:function(a){t.$set(t.add_data,"password",a)},expression:"add_data.password"}})],1),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{model:{value:t.edit_data.note,callback:function(a){t.$set(t.edit_data,"note",a)},expression:"edit_data.note"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.is_show_edit=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.submitEdit()}}},[t._v("确认编辑")])],1)],1)],1)},s=[],n=(e("7f7f"),e("cadf"),e("551c"),e("097d"),{data:function(){return{is_loading:!1,is_show_add:!1,is_show_edit:!1,is_show_authority:!1,add_data:{},edit_data:{},table_data:[]}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.is_loading=!0,this.requestApi({url:"admins/getServants",success:function(a){t.table_data=a,t.is_loading=!1}})},submitForbid:function(t){var a=this;this.$confirm("确定禁用 "+t.name+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.requestApi({url:"admins/forbid",data:{id:t.id},success:function(){a.$message.success("禁用成功"),t.status=0}})}).catch(function(){})},submitCancelForbid:function(t){var a=this;this.$confirm("确定启用 "+t.name+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.requestApi({url:"admins/cancelForbid",data:{id:t.id},success:function(){a.$message.success("启用成功"),t.status=2}})}).catch(function(){})},submitAdd:function(){var t=this;this.requestApi({url:"admins/addServants",data:this.add_data,success:function(a){t.getTableData(),t.is_show_add=!1,t.$message.success("新增成功")}})},showEditForm:function(t){this.edit_data=JSON.parse(JSON.stringify(t)),this.is_show_edit=!0},submitEdit:function(){var t=this;this.requestApi({url:"admins/setServants",data:this.edit_data,success:function(a){t.getTableData(),t.is_show_edit=!1,t.$message.success("编辑成功")}})}}}),o=n,l=e("2877"),d=Object(l["a"])(o,i,s,!1,null,null,null);d.options.__file="servants.vue";a["default"]=d.exports},"7f7f":function(t,a,e){var i=e("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in s||e("9e1e")&&i(s,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})}}]);