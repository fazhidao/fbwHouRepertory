(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01ff1fe7"],{"7f7f":function(t,e,i){var a=i("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,r="name";r in s||i("9e1e")&&a(s,r,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},f8b0:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search_bar"},[i("el-select",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{clearable:"",placeholder:"选择状态"},model:{value:t.main_input.status,callback:function(e){t.$set(t.main_input,"status",e)},expression:"main_input.status"}},[i("el-option",{attrs:{label:"待处理",value:"0"}}),i("el-option",{attrs:{label:"处理中",value:"1"}}),i("el-option",{attrs:{label:"处理完成",value:"2"}})],1),i("el-select",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{clearable:"",placeholder:"选择类别"},model:{value:t.main_input.type,callback:function(e){t.$set(t.main_input,"type",e)},expression:"main_input.type"}},[i("el-option",{attrs:{label:"版权服务",value:"1"}}),i("el-option",{attrs:{label:"商标服务",value:"2"}}),i("el-option",{attrs:{label:"专利服务",value:"3"}})],1),i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),i("el-breadcrumb-item",[t._v("用户数据管理")]),i("el-breadcrumb-item",[t._v("企业服务数据")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticStyle:{width:"100%"},attrs:{height:t.table_height,data:t.table_data,border:""}},[i("el-table-column",{attrs:{type:"index",width:"45",align:"center"}}),i("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?i("el-tag",{attrs:{type:"info"}},[t._v("待处理")]):t._e(),1==e.row.status?i("el-tag",[t._v("处理中")]):t._e(),2==e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("处理完成")]):t._e()]}}])}),i("el-table-column",{attrs:{label:"类别",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?i("div",[t._v("版权服务")]):t._e(),2==e.row.type?i("div",[t._v("商标服务")]):t._e(),3==e.row.type?i("div",[t._v("专利服务")]):t._e()]}}])}),i("el-table-column",{attrs:{label:"提交者",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){t.showUserInfo(e.row.creator_id)}}},[t._v("查看详情")])]}}])}),i("el-table-column",{attrs:{prop:"name",label:"企业名称"}}),i("el-table-column",{attrs:{prop:"contactor",label:"联系人"}}),i("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),i("el-table-column",{attrs:{prop:"create_time",label:"发布时间"}}),i("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){t.doHandle(e.row)}}},[t._v("设为处理中")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){t.doFinish(e.row)}}},[t._v("确认完成")])]}}])})],1),i("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.page.current_page,"page-sizes":[50],"page-size":t.page.size,layout:"total,sizes, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.handleCurrentChange}}),i("el-dialog",{attrs:{title:"用户详情",visible:t.is_show_user_info,width:"700px"},on:{"update:visible":function(e){t.is_show_user_info=e}}},[i("div",[t._v("用户名："+t._s(this.user_info.name))]),i("div",[t._v("手机号："+t._s(this.user_info.phone))])])],1)},s=[],n=(i("7f7f"),i("cadf"),i("551c"),i("097d"),i("90b8"),i("0808"),{data:function(){return{main_input:{status:"",type:""},page:{current_page:1,size:50},is_show_add:!1,is_show_set:!1,is_show_search_user:!1,is_show_user_info:!1,is_loading:!1,table_height:500,status_list:["待付款","待处理","处理中","处理完成"],province_list:[],city_list:[],district_list:[],type_list:[],table_data:[],add_data:{type_id:"",province_id:"",city_id:"",district_id:""},edit_data:{type_id:"",province_id:"",city_id:"",district_id:""},user_list:[],search_user_input:"",user_info:{},addfileList:[],editfileList:[]}},created:function(){this.table_height=window.innerHeight-150,this.getTableData()},methods:{getTableData:function(){var t=this;this.is_loading=!0;var e={page_size:this.page.size,page:this.page.current_page};""!=this.main_input.status&&(e.status=this.main_input.status),""!=this.main_input.type&&(e.type=this.main_input.type),this.requestApi({url:"services/get",data:e,success:function(e){t.table_data=e.data,t.page.total=parseInt(e.total),t.is_loading=!1}})},showAdd:function(){this.is_show_add=!0},upFileSuccess:function(t){1==t.status?this.add_data.contract_file=t.data:this.$message.error("服务器错误")},upFileSuccessSet:function(t){1==t.status?this.edit_data.contract_file=t.data:this.$message.error("服务器错误")},showEdit:function(t){this.getAreaList(2,t.province_id),this.getAreaList(3,t.city_id),this.edit_data=JSON.parse(JSON.stringify(t)),this.is_show_set=!0},submitEdit:function(){var t=this,e={id:this.edit_data.id,province_id:this.edit_data.province_id,city_id:this.edit_data.city_id,district_id:this.edit_data.district_id||"",type_id:this.edit_data.type_id,content:this.edit_data.content,offer_min:this.edit_data.offer_min,offer_max:this.edit_data.offer_max,contract_file:this.edit_data.contract_file};this.requestApi({url:"ask_entrust/set",data:e,success:function(e){t.getTableData(),t.is_show_set=!1,t.editfileList=[],t.$message.success("编辑成功")}})},handleCurrentChange:function(t){this.page.current_page=t,this.getTableData()},doHandle:function(t){var e=this;this.$confirm("确定设置 "+t.name+" 的企业服务为处理中?","再次确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestApi({url:"services/handle",data:{id:t.id},success:function(){e.$message.success("操作成功"),e.getTableData()}})}).catch(function(){})},doFinish:function(t){var e=this;this.$confirm("确定设置 "+t.name+" 的企业服务为处理完成?","再次确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestApi({url:"services/finish",data:{id:t.id},success:function(){e.$message.success("操作成功"),e.getTableData()}})}).catch(function(){})},showUserInfo:function(t){var e=this;this.requestApi({url:"users/getSingle",data:{id:t},success:function(t){e.user_info=t,e.is_show_user_info=!0}})},goView:function(){this.$router.push("/system_ask_entrust_types")}},watch:{"main_input.status":function(){this.getTableData()},"main_input.type":function(){this.getTableData()}}}),r=n,l=i("2877"),o=Object(l["a"])(r,a,s,!1,null,null,null);o.options.__file="services.vue";e["default"]=o.exports}}]);